<div class="row">
  <div class="container col-12 Table-nationality mt-5">
    <h2
      class="main-section-title"
      style="
        font-family: var(--font-stack-heading-serif);
        font-size: 24px;
        font-weight: 600;
      "
    >
      Currency
    </h2>
    <div
      class="main-section-header"
      style="font-family: var(--font-stack-heading-serif); font-size: 20px"
    >
      <div class="search mb-2">
        <!-- <input type="text" placeholder="عن ماذا تبحث ؟" /> -->
      </div>
      <div class="add-btn" data-toggle="modal" data-target="#categoryModal">
        <button
          class="btn all-btn"
          style="color: white"
          (click)="openAddNationalityModal()"
        >
          +
        </button>
      </div>
    </div>

    @if (nationalityLoaded === true && nationalityEdit.length > 0) { @defer (on
    immediate) {
    <ul
      class="responsive-table"
      style="font-family: var(--font-stack-heading-serif); font-size: 20px"
    >
      <li class="table-header">
        <div class="column column-1">ID</div>
        <div class="column column-2">Name Country</div>
        <div class="column column-1">Name Country Ar</div>
        <div class="column column-1">Currency Code</div>
        <div class="column column-1">Currency</div>
        <div class="column column-1">Currency Ar</div>
        <div class="column column-1">Factor</div>
        <div class="column column-1">Rate Exchange</div>
        <div class="column column-1">Currency Price</div>
        <div class="column column-1">Actions</div>
      </li>
      @for (item of nationalityEdit; track $index) {
      <li class="table-row">
        <div class="column column-1" data-label="الكود">{{ $index + 1 }}</div>
        <div class="column column-2" data-label="الأسم">{{ item.name }}</div>
        <div class="column column-1" data-label="الأسم">{{ item.nameAr }}</div>

        <div class="column column-1" data-label="الوصف">
          {{ item.countryCode }}
        </div>
        <div class="column column-1" data-label="الوصف">
          {{ item.currency }}
        </div>
        <div class="column column-1" data-label="الوصف">
          {{ item.currencyAr }}
        </div>

        <div class="column column-1" data-label="الوصف">{{ item.factor }}</div>
        <div class="column column-1" data-label="الوصف">
          {{ item.rateExchange }}
        </div>
        <div class="column column-1" data-label="الوصف">{{ roundToNearestInteger(item.factor * item.rateExchange * (price || 0)) }}</div>

        <div class="column column-1 action">
          <a
            class="btn btn-sm text-warning ml-1"
            data-toggle="tooltip"
            data-placement="top"
            title="Edit"
            (click)="onUpdate(item)"
          >
            <i class="fas fa-edit"></i>
          </a>
          <a
            class="btn btn-sm text-danger ml-1"
            (click)="confirmDelete(item.id)"
            data-toggle="tooltip"
            data-placement="top"
            title="Delete"
          >
            <i class="fas fa-trash" style="color: red"></i>
          </a>
        </div>
      </li>
      }
    </ul>

    } @error {
    <p style="width: fit-content; margin: auto">
      An error occurred while loading the courses. Please try again later.
    </p>
    } } @else if (!nationalityError && nationalityLoaded &&
    nationalityEdit.length === 0) {
    <div class="empty-container">
      <p>No Content Available</p>
    </div>
    } @else if (!nationalityLoaded && !nationalityError) {
    <div class="slider-placeholder">
      <p-skeleton width="100%" height="200px" />
    </div>
    } @else if (nationalityError) {
    <div class="empty-container">
      <p>Error In Server</p>
    </div>
    }
  </div>
</div>
